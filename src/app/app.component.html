<div class="dashboard" id="dashboard">
  <div class="draw-discard-deck">
    <div class="draw-discard-deck-container">
      <div class="drawer-deck" id="drawer-deck" (click)="addCard()"></div>
      <div class="discard-pile" id="discard-pile"></div>
    </div>
  </div>
  <div class="player-cards-tray" [ngClass]="{ 'cardsTrayDisabled': !isCardsTrayEnabled }">
    <ng-container *ngIf="cards$ | async as freshCards">
      <div
        [@revealCards]="{value: freshCards.length}"
        (@revealCards.start)="toggleCardsTray(false)"
        (@revealCards.done)="toggleCardsTray(true)"
        class="player-cards-tray-container">
        <div
          class="uno-card"
          id="uno-card-{{i}}"
          [ngClass]="{ 
            'uno-card-enabled': isCardsTrayEnabled,
            'uno-card-disabled': !isCardsTrayEnabled
          }"
          *ngFor="let card of freshCards; let i = index"
          [@cardLife]="{
            value: card.state,
            params: { 
              xDiscardPosition: destinationOfDiscardPileXPosition(i),
              yDiscardPosition: -destinationOfDiscardPileYPosition(i),
              xOriginPosition: originOfCardXPosition(i),
              yOriginPosition: -originOfCardYPosition()
            }
          }"
          (mouseenter)="cardHovering(i)"
          (mouseleave)="cardHovered(i)"
          (@cardLife.start)="disableCardsTrayTemporarily($event)"
          (click)="cardClicked(i)">
          <div card class="uno-card-container"></div>
        </div>
      </div>
    </ng-container>
  </div>
</div>